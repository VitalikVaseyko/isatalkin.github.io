"use strict";!function(){var e=document.querySelectorAll(".js-open-popup"),t=document.querySelector(".js-popup");if(t&&e){var o=t.querySelector(".feedback-popup__submit"),r=t.querySelector("form").querySelectorAll("input"),c=t.querySelector(".js-close-btn"),n=function(e){e.preventDefault(),p(),t.classList.remove("feedback-popup--off"),setTimeout(function(){t.classList.add("feedback-popup--visible")},50),document.addEventListener("keydown",u),c.addEventListener("click",d),t.addEventListener("click",a),document.body.classList.add("feedback-popup__dont-scroll-it"),document.body.addEventListener("touchmove",s,{passive:!1}),o.addEventListener("click",l)},i=function(){t.classList.remove("feedback-popup--visible"),t.classList.add("feedback-popup--off"),document.removeEventListener("keydown",u),c.removeEventListener("click",d),t.removeEventListener("click",a),document.body.classList.remove("feedback-popup__dont-scroll-it"),document.body.removeEventListener("touchmove",s,{passive:!1}),o.removeEventListener("click",l),Array.prototype.forEach.call(r,function(e){e.required=!1})},u=function(e){27===e.keyCode&&i()},d=function(){i()},a=function(e){e.target===t&&i()},s=function(e){e.currentTarget===e.target&&e.preventDefault()},p=function(){Array.prototype.forEach.call(r,function(e){e.required&&(e.dataset.required="Y",e.required=!1)})},l=function(){Array.prototype.forEach.call(r,function(e){"Y"!==e.dataset.required&&"y"!==e.dataset.required||(e.required=!0)})};Array.prototype.forEach.call(e,function(e){e.addEventListener("click",n)})}}();